<mat-toolbar color="primary">
  <section>
    <mat-chip-list aria-label=" selection">
      <mat-chip color="primary">
        Poland
        <button matChipRemove>
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip>
      <mat-chip color="primary">
        Germany
        <button matChipRemove>
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip>
      <mat-chip color="primary">
        Italy
        <button matChipRemove>
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip>
    </mat-chip-list>
  </section>
</mat-toolbar>

<mat-tab-group color="primary" backgroundColor="primary" mat-align-tabs="center">

  <mat-tab label="TattooWork">

    <mat-toolbar>
      <form>
        <mat-form-field>
          <span matPrefix></span>
          <input type="tel" matInput placeholder="Search" name="search">
          <button matSuffix mat-button>
            <mat-icon>search</mat-icon>
          </button>
        </mat-form-field>
      </form>
    </mat-toolbar>

    <div fxLayout="row wrap" style="margin-left: 50px">
      <div fxFlex style="padding-bottom: 30px" *ngFor="let tattooWork of tattooWorkList ">
        <mat-card style="width: 520px">
          <mat-card-header>
            <section *ngIf="authenticatedUser" style="margin-left: auto">
              <button matTooltip="favorite"
                      *ngIf="!authenticatedUser.favoriteTattooWorkIds.includes(tattooWork.id)"
                      (click)="favoriteTattooWork(tattooWork.id)"
                      mat-icon-button color="accent">
                <mat-icon>favorite</mat-icon>
              </button>
              <button matTooltip="unFavorite"
                      *ngIf="authenticatedUser.favoriteTattooWorkIds.includes(tattooWork.id)"
                      (click)="unFavoriteTattooWork(tattooWork.id)"
                      mat-icon-button
                      color="accent">
                <mat-icon>block</mat-icon>
              </button>
            </section>
            <img mat-card-avatar
                 routerLink="/users/{{tattooWork.madeBy.id}}"
                 src="{{tattooWork.madeBy.avatarUrl}}"
                 style="background-size: cover;cursor: pointer">
            <mat-card-title>{{tattooWork.madeBy.firstName}}</mat-card-title>
            <mat-card-subtitle>{{tattooWork.madeBy.city ? tattooWork.madeBy.city : "nowhere"}}</mat-card-subtitle>
          </mat-card-header>
          <img routerLink="/tattoo-work/{{tattooWork.id}}" mat-card-image
               style=" cursor: pointer; object-fit:cover; height: 80%" src="{{tattooWork.coverPhoto}}">

          <div fxLayout="row" *ngIf="authenticatedUser">
            <button [disabled]="tattooWork.likerIds.includes(authenticatedUser.id)" mat-flat-button  color="accent" (click)="likeTattooWork(tattooWork.id)"><mat-icon>thumb_up_off</mat-icon> <h1> {{tattooWork.like_number}}</h1></button>
            <button [disabled]="tattooWork.disLikerIds.includes(authenticatedUser.id)" mat-flat-button color="accent" (click)="disLikeTattooWork(tattooWork.id)"><mat-icon>thumb_down</mat-icon><h1>{{tattooWork.dislike_number}}</h1></button>
          </div>


            <h2>{{tattooWork.description}}</h2>
            <h2>value: {{tattooWork.price | currency:tattooWork.currency}}</h2>

        </mat-card>
      </div>
    </div>
  </mat-tab>

  <mat-tab label="TattooArtist">
    <mat-toolbar>
      <form>
        <mat-form-field>
          <span matPrefix></span>
          <input type="tel" matInput placeholder="Search" name="search">
          <button matSuffix mat-button>
            <mat-icon>search</mat-icon>
          </button>
        </mat-form-field>
      </form>
    </mat-toolbar>

    <div fxLayout="row wrap" style="margin-left: 50px">
      <div fxFlex style="padding-bottom: 30px" *ngFor="let user of userList | async ">
        <mat-card style="width: 520px;">
          <mat-card-header>
            <section *ngIf="authenticatedUser" style="margin-left: auto">
              <button matTooltip="favorite" *ngIf="!authenticatedUser.favoriteArtistIds.includes(user.id)"
                      (click)="favoriteTattooArtist(user.id)" mat-icon-button color="accent">
                <mat-icon>favorite</mat-icon>
              </button>
              <button matTooltip="unFavorite" *ngIf="authenticatedUser.favoriteArtistIds.includes(user.id)"
                      (click)="unFavoriteTattooArtist(user.id)" mat-icon-button color="accent">
                <mat-icon>block</mat-icon>
              </button>
            </section>
            <mat-card-title>{{user.firstName}}</mat-card-title>
            <mat-card-subtitle>{{user.city ? user.city : "nowhere"}}</mat-card-subtitle>
          </mat-card-header>
          <img routerLink="/users/{{user.id}}" mat-card-image style=" cursor: pointer; object-fit:cover; height: 80%" src="{{user.avatarUrl}}">
          <mat-card-content>
            <h2>rating : {{user.averageRating}}</h2>
            <h2>working days: {{user.workDays}}</h2>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>

<footer style="margin-top: auto">
  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="5" [length]="totalElements"
                 (page)="nextPage($event)"></mat-paginator>
</footer>
