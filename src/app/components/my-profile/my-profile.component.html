<mat-card *ngIf="afAuth.authState | async as user" style="border-radius: 500px">
  <section style=" margin-left: 45%">
    <img style=" height: 200px;
               width: 200px;
               border-radius: 50%;" src="{{user.photoURL}}">
    <br>
    <mat-button-toggle routerLink="/artist-account-form" *ngIf="authService.authenticatedUser.hasArtistPage===false">
      <mat-icon>add</mat-icon>
      Create an artist page
    </mat-button-toggle>
    <br>
    <mat-button-toggle routerLink="/me-edit">
      Update Profile
    </mat-button-toggle>
    <mat-button-toggle (click)="deleteAccount()">
      delete account
    </mat-button-toggle>
    <br>
    <mat-button-toggle routerLink="/post" >
      Post a Tattoo Work
    </mat-button-toggle>
  </section>
  <h1 style="text-align: center">{{user.displayName}}</h1>
  <h2 style="text-align: center" *ngIf=" priceInterval | async as priceIntervalObject">{{priceIntervalObject.maxTattooWorkPrice}} {{priceIntervalObject.maxTattooWorkPriceCurrency}}  - {{priceIntervalObject. minTattooWorkPrice}} {{priceIntervalObject.minTattooWorkPriceCurrency}} </h2>
</mat-card>

<mat-tab-group color="primary" backgroundColor="primary" mat-align-tabs="center">

  <mat-tab label="About">
    <mat-toolbar>
      <div></div>
    </mat-toolbar>
    <div>
      content
    </div>
  </mat-tab>

  <mat-tab label="Favorite TattooWorks">
    <mat-toolbar>
      Favorite Tattoo Works
    </mat-toolbar>
    <div>
      <div fxLayout="row wrap" style="margin-left: 50px" >
        <div fxFlex style="padding-bottom: 30px" *ngFor="let tattooWork1 of favoriteTattooWorks">
          <mat-card style="width: 520px;">
            <mat-card-header>
              <img mat-card-avatar routerLink="/users/{{tattooWork1.madeBy.id}}" src="{{tattooWork1.madeBy.avatarUrl}}" style="background-size: cover;cursor: pointer">
              <mat-card-title>{{tattooWork1.madeBy.firstName}}</mat-card-title>
              <mat-card-subtitle>{{tattooWork1.madeBy.city? tattooWork1.madeBy.city:"nowhere"}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image style="object-fit:cover; height: 80%" src="{{tattooWork1.coverPhoto}}">
            <mat-card-content>

              <mat-button-toggle>
                like : {{tattooWork1.like_number}}
              </mat-button-toggle>

              <mat-button-toggle>
                dislike: {{tattooWork1.dislike_number}}
              </mat-button-toggle>

              <h2>{{tattooWork1.description}}</h2>
              <h2>value: {{tattooWork1.price | currency: tattooWork1.currency}}</h2>
            </mat-card-content>

            <mat-card-actions>
              <form style="min-width: 150px; max-width: 500px;width: 100%;" *ngIf="tattooWork1.clientId===authService.authenticatedUser.id">
                <mat-form-field>
                  <mat-label>Leave a comment <mat-icon>add</mat-icon></mat-label>
                  <input matInput>
                </mat-form-field>
              </form>
            </mat-card-actions>

          </mat-card>
        </div>
      </div>
    </div>

  </mat-tab>

  <mat-tab label="My TattooWorks">
    <mat-toolbar>
      My Tattoo Works
    </mat-toolbar>
    <div>
      <div fxLayout="row wrap" style="margin-left: 50px" >
        <div fxFlex style="padding-bottom: 30px" *ngFor="let tattooWork of myTattooWorks">
          <mat-card style="width: 520px;">
            <mat-card-header>
              <img mat-card-avatar routerLink="/users/{{tattooWork.madeBy.id}}" src="{{tattooWork.madeBy.avatarUrl}}" style="background-size: cover;cursor: pointer">
              <mat-card-title>{{tattooWork.madeBy.firstName}}</mat-card-title>
              <mat-card-subtitle>{{tattooWork.madeBy.city? tattooWork.madeBy.city:"nowhere"}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image style="object-fit:cover; height: 80%" src="{{tattooWork.coverPhoto}}">
            <mat-card-content>

              <mat-button-toggle>
                like : {{tattooWork.like_number}}
              </mat-button-toggle>

              <mat-button-toggle>
                dislike: {{tattooWork.dislike_number}}
              </mat-button-toggle>

              <h2>{{tattooWork.description}}</h2>
              <h2>value: {{tattooWork.price | currency: tattooWork.currency}}</h2>
            </mat-card-content>

            <mat-card-actions>
              <form style="min-width: 150px; max-width: 500px;width: 100%;" *ngIf="tattooWork.clientId===authService.authenticatedUser.id">
                <mat-form-field>
                  <mat-label>Leave a comment <mat-icon>add</mat-icon></mat-label>
                  <input matInput>
                </mat-form-field>
              </form>
            </mat-card-actions>
            <button mat-flat-button routerLink="/edit-tattoo-work/{{tattooWork.id}}">Edit</button>
            <button mat-flat-button (click)="deleteTattooWork(tattooWork.id)" >Delete</button>

          </mat-card>
        </div>
      </div>
    </div>
  </mat-tab>

  <mat-tab label="Favorite Tattoo Artists">
    <mat-toolbar>
      Favorite Tattoo Artists
    </mat-toolbar>
    <div>
      <div *ngIf="authService.userObservable| async as authUser" fxLayout="row wrap" style="margin-left: 50px">
        <div fxFlex style="padding-bottom: 30px" *ngFor="let user of favoriteTattooArtists ">

          <mat-card style="width: 520px;">
            <mat-card-header>

              <button matTooltip="unFavorite" style="margin-left: auto" (click)="unFavoriteTattooArtist(user.id)" mat-icon-button color="accent">
                <mat-icon>block</mat-icon>
              </button>

              <mat-card-title>{{user.firstName}}</mat-card-title>
              <mat-card-subtitle>{{user.city ? user.city : "nowhere"}}</mat-card-subtitle>
            </mat-card-header>
            <img routerLink="/users/{{user.id}}" mat-card-image style=" cursor: pointer; object-fit:cover; height: 80%" src="{{user.avatarUrl}}">

            <mat-card-content>

              <h2>rating : {{user.averageRating}}</h2>
              <h2>working days: {{user.workDays}}</h2>
            </mat-card-content>
          </mat-card>

        </div>
      </div>
    </div>
  </mat-tab>

  <mat-tab label="My Reviews">
    <mat-toolbar>
      My Reviews
    </mat-toolbar>
    <div style="background-color: #a3ff5e">

    </div>
  </mat-tab>


</mat-tab-group>
